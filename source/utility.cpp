#include "utility.hpp"

std::string utility::baseAttrName_from_skillName(std::string name){
    //this is so stupid... jesus fuck
    //100% there is a good way to navigate linked maps...
    auto skillID = skills::skillID_skillName.right.find(name);                  //skill name to skill ID
    if(skillID == skills::skillID_skillName.right.end()) throw std::runtime_error("No skill ID found for skill "+name+"!");
    auto attrID = skills::skillID_attID.find(skillID->second);             //skill ID to attribute ID
    if(attrID == skills::skillID_attID.end()) throw std::runtime_error("No attribute ID found for skill ID "+std::to_string((int)skillID->second)+"!");
    auto attrName = attributes::attID_attName.left.find(attrID->second);        //attribute ID to attribute name
    if(attrName == attributes::attID_attName.left.end()) throw std::runtime_error("No attribute name found for attribute ID "+std::to_string((int)attrID->second)+"!");
    return attrName->second;
}

boost::bimaps::bimap<attributes::attribute_id,std::string> attributes::attID_attName = make_bimap<attributes::attribute_id,std::string>({
    {attributes::attribute_id::weapon_skill,    "weapon_skill"},
    {attributes::attribute_id::ballistic_skill, "ballistic_skill"},
    {attributes::attribute_id::strength,        "strength"},
    {attributes::attribute_id::toughness,       "toughness"},
    {attributes::attribute_id::initiative,      "initiative"},
    {attributes::attribute_id::agility,         "agility"},
    {attributes::attribute_id::dexterity,       "dexterity"},
    {attributes::attribute_id::intelligence,    "intelligence"},
    {attributes::attribute_id::willpower,       "willpower"},
    {attributes::attribute_id::fellowship,      "fellowship"},
    {attributes::attribute_id::fate,            "fate"},
    {attributes::attribute_id::fortune,         "fortune"},
    {attributes::attribute_id::resilience,      "resilience"},
    {attributes::attribute_id::resolve,         "resolve"},
    {attributes::attribute_id::corruption,      "corruption"},
    {attributes::attribute_id::movement,        "movement"}
});

bool utility::isAttribute(std::string attName){
    return (attributes::attID_attName.right.find(attName) != attributes::attID_attName.right.end());
}

//this map must not be a bimap since only skills are unique here but attributes are not
//mapping right to left would not work
std::map<skills::skill_id,attributes::attribute_id> skills::skillID_attID = {
    {skills::skill_id::animal_care,     attributes::attribute_id::intelligence},
    {skills::skill_id::animal_training, attributes::attribute_id::intelligence},
    {skills::skill_id::art,             attributes::attribute_id::dexterity},
    {skills::skill_id::athletics,       attributes::attribute_id::agility},
    {skills::skill_id::bribery,         attributes::attribute_id::fellowship},
    {skills::skill_id::channelling,     attributes::attribute_id::willpower},
    {skills::skill_id::charm,           attributes::attribute_id::fellowship},
    {skills::skill_id::charm_animal,    attributes::attribute_id::willpower},
    {skills::skill_id::climb,           attributes::attribute_id::strength},
    {skills::skill_id::consume_alcohol, attributes::attribute_id::toughness},
    {skills::skill_id::cool,            attributes::attribute_id::willpower},
    {skills::skill_id::dodge,           attributes::attribute_id::agility},
    {skills::skill_id::drive,           attributes::attribute_id::agility},
    {skills::skill_id::endurance,       attributes::attribute_id::toughness},
    {skills::skill_id::entertain,       attributes::attribute_id::fellowship},
    {skills::skill_id::evaluate,        attributes::attribute_id::intelligence},
    {skills::skill_id::gamble,          attributes::attribute_id::intelligence},
    {skills::skill_id::gossip,          attributes::attribute_id::fellowship},
    {skills::skill_id::haggle,          attributes::attribute_id::fellowship},
    {skills::skill_id::heal,            attributes::attribute_id::intelligence},
    {skills::skill_id::intimidate,      attributes::attribute_id::strength},
    {skills::skill_id::inutition,       attributes::attribute_id::initiative},
    {skills::skill_id::language,        attributes::attribute_id::intelligence},
    {skills::skill_id::leadership,      attributes::attribute_id::fellowship},
    {skills::skill_id::lore,            attributes::attribute_id::intelligence},
    {skills::skill_id::melee,           attributes::attribute_id::weapon_skill},
    {skills::skill_id::navigation,      attributes::attribute_id::initiative},
    {skills::skill_id::outdoor_survival,attributes::attribute_id::intelligence},
    {skills::skill_id::perception,      attributes::attribute_id::initiative},
    {skills::skill_id::perform,         attributes::attribute_id::agility},
    {skills::skill_id::pick_lock,       attributes::attribute_id::dexterity},
    {skills::skill_id::play,            attributes::attribute_id::dexterity},
    {skills::skill_id::pray,            attributes::attribute_id::fellowship},
    {skills::skill_id::ranged,          attributes::attribute_id::ballistic_skill},
    {skills::skill_id::research,        attributes::attribute_id::intelligence},
    {skills::skill_id::ride,            attributes::attribute_id::agility},
    {skills::skill_id::row,             attributes::attribute_id::strength},
    {skills::skill_id::sail,            attributes::attribute_id::agility},
    {skills::skill_id::secret_signs,    attributes::attribute_id::intelligence},
    {skills::skill_id::set_trap,        attributes::attribute_id::dexterity},
    {skills::skill_id::sleight_of_hand, attributes::attribute_id::dexterity},
    {skills::skill_id::stealth,         attributes::attribute_id::agility},
    {skills::skill_id::swim,            attributes::attribute_id::strength},
    {skills::skill_id::track,           attributes::attribute_id::initiative},
    {skills::skill_id::trade,           attributes::attribute_id::dexterity}
};

boost::bimaps::bimap<skills::skill_id,std::string> skills::skillID_skillName = make_bimap<skills::skill_id,std::string>({
    {skills::skill_id::animal_care,     "animal_care"},
    {skills::skill_id::animal_training, "animal_training"},
    {skills::skill_id::art,             "art"},
    {skills::skill_id::athletics,       "athletics"},
    {skills::skill_id::bribery,         "bribery"},
    {skills::skill_id::channelling,     "channeling"},
    {skills::skill_id::charm,           "charm"},
    {skills::skill_id::charm_animal,    "charm_animal"},
    {skills::skill_id::climb,           "climb"},
    {skills::skill_id::consume_alcohol, "consume_alcohol"},
    {skills::skill_id::cool,            "cool"},
    {skills::skill_id::dodge,           "dodge"},
    {skills::skill_id::drive,           "drive"},
    {skills::skill_id::endurance,       "endurance"},
    {skills::skill_id::entertain,       "entertain"},
    {skills::skill_id::evaluate,        "evaluate"},
    {skills::skill_id::gamble,          "gamble"},
    {skills::skill_id::gossip,          "gossip"},
    {skills::skill_id::haggle,          "haggle"},
    {skills::skill_id::heal,            "heal"},
    {skills::skill_id::intimidate,      "intimidate"},
    {skills::skill_id::inutition,       "intuition"},
    {skills::skill_id::language,        "language"},
    {skills::skill_id::leadership,      "leadership"},
    {skills::skill_id::lore,            "lore"},
    {skills::skill_id::melee,           "melee"},
    {skills::skill_id::navigation,      "navigation"},
    {skills::skill_id::outdoor_survival,"outdoor_survival"},
    {skills::skill_id::perception,      "perception"},
    {skills::skill_id::perform,         "perform"},
    {skills::skill_id::pick_lock,       "pick_lock"},
    {skills::skill_id::play,            "play"},
    {skills::skill_id::pray,            "pray"},
    {skills::skill_id::ranged,          "ranged"},
    {skills::skill_id::research,        "research"},
    {skills::skill_id::ride,            "ride"},
    {skills::skill_id::row,             "row"},
    {skills::skill_id::sail,            "sail"},
    {skills::skill_id::secret_signs,    "secret_signs"},
    {skills::skill_id::set_trap,        "set_trap"},
    {skills::skill_id::sleight_of_hand, "sleigh_of_hand"},
    {skills::skill_id::stealth,         "stealth"},
    {skills::skill_id::swim,            "swim"},
    {skills::skill_id::track,           "track"},
    {skills::skill_id::trade,           "trade"}
});

boost::bimaps::bimap<talents::talent_id,std::string> talents::talentID_talentName = make_bimap<talents::talent_id,std::string>({
    {talents::talent_id::accurate_shot,         "accurate_shot"},
    {talents::talent_id::acute_sense,           "acute_sense"},
    {talents::talent_id::aethyric_attunement,   "aethyric_attunement"},
    {talents::talent_id::alley_cat,             "alley_cat"},
    {talents::talent_id::ambidextrous,          "ambidextrous"},
    {talents::talent_id::animal_affinity,       "animal_affinity"},
    {talents::talent_id::arcane_magic,          "arcane_magic"},
    {talents::talent_id::argumentative,         "argumentative"},
    {talents::talent_id::artistic,              "artistic"},
    {talents::talent_id::attractive,            "attractive"},
    {talents::talent_id::battle_rage,           "battle_rage"},
    {talents::talent_id::beat_blade,            "beat_blade"},
    {talents::talent_id::beneath_notice,        "beneath_notice"},
    {talents::talent_id::berserk_charge,        "berserk_charge"},
    {talents::talent_id::blather,               "blather"},
    {talents::talent_id::bless,                 "bless"},
    {talents::talent_id::bookish,               "bookish"},
    {talents::talent_id::break_and_enter,       "break_and_enter"},
    {talents::talent_id::briber,                "briber"},
    {talents::talent_id::cardsharp,             "cardsharp"},
    {talents::talent_id::careful_strike,        "careful_strike"},
    {talents::talent_id::carouser,              "carouser"},
    {talents::talent_id::catfall,               "catfall"},
    {talents::talent_id::cat_tongued,           "cat_tongued"},
    {talents::talent_id::chaos_magic,           "chaos_magic"},
    {talents::talent_id::combat_aware,          "combat_aware"},
    {talents::talent_id::combat_master,         "combat_master"},
    {talents::talent_id::combat_reflexes,       "combat_reflexes"},
    {talents::talent_id::commanding_presence,   "commanding_presence"},
    {talents::talent_id::concoct,               "concoct"},
    {talents::talent_id::contortionist,         "contortionist"},
    {talents::talent_id::coolheaded,            "coolheaded"},
    {talents::talent_id::crack_the_whip,        "crack_the_whip"},
    {talents::talent_id::craftsman,             "craftsman"},
    {talents::talent_id::criminal,              "criminal"},
    {talents::talent_id::deadeye_shot,          "deadeye_shot"},
    {talents::talent_id::dealmaker,             "dealmaker"},
    {talents::talent_id::detect_artifact,       "detect_artifact"},
    {talents::talent_id::diceman,               "diceman"},
    {talents::talent_id::dirty_fighting,        "dirty_fighting"},
    {talents::talent_id::disarm,                "disarm"},
    {talents::talent_id::distract,              "distract"},
    {talents::talent_id::doomed,                "doomed"},
    {talents::talent_id::drilled,               "drilled"},
    {talents::talent_id::dual_wielder,          "dual_wielder"},
    {talents::talent_id::embezzle,              "embezzle"},
    {talents::talent_id::enclosed_fighter,      "enclosed_fighter"},
    {talents::talent_id::etiquette,             "etiquette"},
    {talents::talent_id::fast_hands,            "fast_hands"},
    {talents::talent_id::fast_shot,             "fast_shot"},
    {talents::talent_id::fearless,              "fearless"},
    {talents::talent_id::feint,                 "feint"},
    {talents::talent_id::field_dressing,        "field_dressing"},
    {talents::talent_id::fisherman,             "fisherman"},
    {talents::talent_id::flagellant,            "flagellant"},
    {talents::talent_id::flee,                  "flee"},
    {talents::talent_id::fleet_footed,          "fleet_footed"},
    {talents::talent_id::frenzy,                "frenzy"},
    {talents::talent_id::frightening,           "frightening"},
    {talents::talent_id::furious_assault,       "furious_assault"},
    {talents::talent_id::gregarious,            "gregarious"},
    {talents::talent_id::gunner,                "gunner"},
    {talents::talent_id::hardy,                 "hardy"},
    {talents::talent_id::hatred,                "hatred"},
    {talents::talent_id::holy_visions,          "holy_visions"},
    {talents::talent_id::hunters_eye,           "hunters_eye"},
    {talents::talent_id::impassioned_zeal,      "impassioned_zeal"},
    {talents::talent_id::implacable,            "implacable"},
    {talents::talent_id::in_fighter,            "in_fighter"},
    {talents::talent_id::inspiring,             "inspiring"},
    {talents::talent_id::instinctive_diction,   "instinctive_diction"},
    {talents::talent_id::invoke,                "invoke"},
    {talents::talent_id::iron_jaw,              "iron_jaw"},
    {talents::talent_id::iron_will,             "iron_will"},
    {talents::talent_id::jump_up,               "jump_up"},
    {talents::talent_id::kingpin,               "kingpin"},
    {talents::talent_id::lightning_reflexes,    "lightning_reflexes"},
    {talents::talent_id::linguistics,           "linguistics"},
    {talents::talent_id::lip_reading,           "lip_reading"},
    {talents::talent_id::luck,                  "luck"},
    {talents::talent_id::magical_sense,         "magical_sense"},
    {talents::talent_id::magic_resistance,      "magic_resistance"},
    {talents::talent_id::magnum_opus,           "magnum_opus"},
    {talents::talent_id::marksman,              "marksman"},
    {talents::talent_id::master_of_disguise,    "master_of_disguise"},
    {talents::talent_id::master_orator,         "master_orator"},
    {talents::talent_id::master_tradesman,      "master_tradesman"},
    {talents::talent_id::menacing,              "menacing"},
    {talents::talent_id::mimic,                 "mimic"},
    {talents::talent_id::night_vision,          "night_vision"},
    {talents::talent_id::nimble_fingered,       "nimble_fingered"},
    {talents::talent_id::noble_blood,           "noble_blood"},
    {talents::talent_id::nose_for_trouble,      "nose_for_trouble"},
    {talents::talent_id::numismatics,           "numismatics"},
    {talents::talent_id::old_salt,              "old_salt"},
    {talents::talent_id::orientation,           "orientation"},
    {talents::talent_id::panhandle,             "panhandle"},
    {talents::talent_id::perfect_pitch,         "perfect_pitch"},
    {talents::talent_id::petty_magic,           "petty_magic"},
    {talents::talent_id::pharmacist,            "pharmacist"},
    {talents::talent_id::pilot,                 "pilot"},
    {talents::talent_id::public_speaker,        "public_speaker"},
    {talents::talent_id::pure_soul,             "pure_soul"},
    {talents::talent_id::rapid_reload,          "rapid_reload"},
    {talents::talent_id::reaction_strike,       "reaction_strike"},
    {talents::talent_id::read_write,            "read_write"},
    {talents::talent_id::relentless,            "relentless"},
    {talents::talent_id::resistance,            "resistance"},
    {talents::talent_id::resolute,              "resolute"},
    {talents::talent_id::reversal,              "reversal"},
    {talents::talent_id::riposte,               "riposte"},
    {talents::talent_id::river_guide,           "river_guide"},
    {talents::talent_id::robust,                "robust"},
    {talents::talent_id::roughrider,            "roughrider"},
    {talents::talent_id::rover,                 "rover"},
    {talents::talent_id::savant,                "savant"},
    {talents::talent_id::savvy,                 "savvy"},
    {talents::talent_id::scale_sheer_surface,   "scale_sheer_surface"},
    {talents::talent_id::schemer,               "schemer"},
    {talents::talent_id::sea_legs,              "sea_legs"},
    {talents::talent_id::seasoned_traveller,    "seasoned_traveller"},
    {talents::talent_id::second_sight,          "second_sight"},
    {talents::talent_id::secret_identity,       "secret_identity"},
    {talents::talent_id::shadow,                "shadow"},
    {talents::talent_id::sharp,                 "sharp"},
    {talents::talent_id::sharpshooter,          "sharpshooter"},
    {talents::talent_id::shieldsman,            "shieldsman"},
    {talents::talent_id::sixth_sense,           "sixth_sense"},
    {talents::talent_id::slayer,                "slayer"},
    {talents::talent_id::small,                 "small"},
    {talents::talent_id::sniper,                "sniper"},
    {talents::talent_id::speedreader,           "speedreader"},
    {talents::talent_id::sprinter,              "sprinter"},
    {talents::talent_id::step_aside,            "step_aside"},
    {talents::talent_id::stone_soup,            "stone_soup"},
    {talents::talent_id::stout_hearted,         "stout_hearted"},
    {talents::talent_id::strider,               "strider"},
    {talents::talent_id::strike_mighty_blow,    "strike_mighty_blow"},
    {talents::talent_id::strike_to_injure,      "strike_to_injure"},
    {talents::talent_id::strike_to_stun,        "strike_to_stun"},
    {talents::talent_id::strong_back,           "strong_back"},
    {talents::talent_id::strong_legs,           "strong_legs"},
    {talents::talent_id::strong_minded,         "strong_minded"},
    {talents::talent_id::strong_swimmer,        "strong_swimmer"},
    {talents::talent_id::sturdy,                "sturdy"},
    {talents::talent_id::suave,                 "suave"},
    {talents::talent_id::super_numerate,        "super_numerate"},
    {talents::talent_id::supportive,            "supportive"},
    {talents::talent_id::sure_shot,             "sure_shot"},
    {talents::talent_id::surgery,               "surgery"},
    {talents::talent_id::tenacious,             "tenacious"},
    {talents::talent_id::tinker,                "tinker"},
    {talents::talent_id::tower_of_memories,     "tower_of_memories"},
    {talents::talent_id::trapper,               "trapper"},
    {talents::talent_id::trick_riding,          "trick_riding"},
    {talents::talent_id::tunnel_rat,            "tunnel_rat"},
    {talents::talent_id::unshakable,            "unshakable"},
    {talents::talent_id::very_resilient,        "very_resilient"},
    {talents::talent_id::very_strong,           "very_strong"},
    {talents::talent_id::war_leader,            "war_leader"},
    {talents::talent_id::war_wizard,            "war_wizard"},
    {talents::talent_id::warrior_born,          "warrior_born"},
    {talents::talent_id::waterman,              "waterman"},
    {talents::talent_id::wealthy,               "wealthy"},
    {talents::talent_id::well_prepared,         "well_prepared"},
    {talents::talent_id::witch,                 "witch"}
});

boost::bimaps::bimap<traits::trait_id,std::string> traits::traitID_traitName = make_bimap<traits::trait_id,std::string>({
    {traits::trait_id::afraid,                  "afraid"},
    {traits::trait_id::amphibious,              "amphibious"},
    {traits::trait_id::arboreal,                "arboreal"},
    {traits::trait_id::animosity,               "animosity"},
    {traits::trait_id::armour,                  "armour"},
    {traits::trait_id::belligerent,             "belligerent"},
    {traits::trait_id::bestial,                 "bestial"},
    {traits::trait_id::big,                     "big"},
    {traits::trait_id::bite,                    "bite"},
    {traits::trait_id::blessed,                 "blessed"},
    {traits::trait_id::bounce,                  "bounce"},
    {traits::trait_id::breath,                  "breath"},
    {traits::trait_id::brute,                   "brute"},
    {traits::trait_id::champion,                "champion"},
    {traits::trait_id::chill_grasp,             "chill_grasp"},
    {traits::trait_id::clever,                  "clever"},
    {traits::trait_id::cold_blooded,            "cold_blooded"},
    {traits::trait_id::constrictor,             "constrictor"},
    {traits::trait_id::construct,               "construct"},
    {traits::trait_id::corrosive_blood,         "corrosive_blood"},
    {traits::trait_id::corrupted,               "corrupted"},
    {traits::trait_id::cunning,                 "cunning"},
    {traits::trait_id::dark_vision,             "dark_vision"},
    {traits::trait_id::daemonic,                "daemonic"},
    {traits::trait_id::die_hard,                "die_hard"},
    {traits::trait_id::disease,                 "disease"},
    {traits::trait_id::distracting,             "distracting"},
    {traits::trait_id::elite,                   "elite"},
    {traits::trait_id::ethereal,                "ethereal"},
    {traits::trait_id::fast,                    "fast"},
    {traits::trait_id::fear,                    "fear"},
    {traits::trait_id::flight,                  "flight"},
    {traits::trait_id::frenzy,                  "frenzy"},
    {traits::trait_id::fury,                    "fury"},
    {traits::trait_id::ghostly_howl,            "ghostly_howl"},
    {traits::trait_id::hardy,                   "hardy"},
    {traits::trait_id::hatred,                  "hatred"},
    {traits::trait_id::horns,                   "horns"},
    {traits::trait_id::hungry,                  "hungry"},
    {traits::trait_id::immunity,                "immunity"},
    {traits::trait_id::immunity_to_psychology,  "immunity_to_psychology"},
    {traits::trait_id::infected,                "infected"},
    {traits::trait_id::infestation,             "infestation"},
    {traits::trait_id::leader,                  "leader"},
    {traits::trait_id::magical,                 "magical"},
    {traits::trait_id::magic_resistance,        "magic_resistance"},
    {traits::trait_id::mental_corruption,       "mental_corruption"},
    {traits::trait_id::miracles,                "miracles"},
    {traits::trait_id::mutation,                "mutation"},
    {traits::trait_id::night_vision,            "night_vision"},
    {traits::trait_id::painless,                "painless"},
    {traits::trait_id::petrifying_gaze,         "petrifying_gaze"},
    {traits::trait_id::prejudice,               "prejudice"},
    {traits::trait_id::ranged,                  "ranged"},
    {traits::trait_id::rear,                    "rear"},
    {traits::trait_id::regenerate,              "regenerate"},
    {traits::trait_id::size,                    "size"},
    {traits::trait_id::skittish,                "skittish"},
    {traits::trait_id::spellcaster,             "spellcaster"},
    {traits::trait_id::stealthy,                "stealthy"},
    {traits::trait_id::stride,                  "stride"},
    {traits::trait_id::stupid,                  "stupid"},
    {traits::trait_id::swamp_strider,           "swamp_strider"},
    {traits::trait_id::swarm,                   "swarm"},
    {traits::trait_id::tail_attack,             "tail_attack"},
    {traits::trait_id::tentacles,               "tentacles"},
    {traits::trait_id::territorial,             "territorial"},
    {traits::trait_id::terror,                  "terror"},
    {traits::trait_id::trained,                 "trained"},
    {traits::trait_id::tongue_attack,           "tongue_attack"},
    {traits::trait_id::tough,                   "tough"},
    {traits::trait_id::tracker,                 "tracker"},
    {traits::trait_id::undead,                  "undead"},
    {traits::trait_id::unstable,                "unstable"},
    {traits::trait_id::vampiric,                "vampiric"},
    {traits::trait_id::venom,                   "venom"},
    {traits::trait_id::vomit,                   "vomit"},
    {traits::trait_id::ward,                    "ward"},
    {traits::trait_id::wallcrawler,             "wallcrawler"},
    {traits::trait_id::weapon,                  "weapon"},
    {traits::trait_id::web,                     "web"}
});
